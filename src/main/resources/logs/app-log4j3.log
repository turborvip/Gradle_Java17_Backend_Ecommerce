2023-09-05 15:56:38,180 [main] org.springframework.boot.StartupInfoLogger: Starting EcommerceApplication using Java 17.0.8 with PID 56384 (/home/turborvip/WorkPlace/Study/Project/ecommerce/build/classes/java/main started by turborvip in /home/turborvip/WorkPlace/Study/Project/ecommerce)
2023-09-05 15:56:38,189 [main] org.springframework.boot.SpringApplication: The following 1 profile is active: "dev"
2023-09-05 15:56:38,762 [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-05 15:56:38,813 [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2023-09-05 15:56:39,316 [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'ecommerceProperties' of type [com.turborvip.ecommerce.application.configuration.EcommerceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-09-05 15:56:39,318 [main] org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker: Bean 'persistence' of type [com.turborvip.ecommerce.application.configuration.Persistence$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-09-05 15:56:39,641 [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8077 (http)
2023-09-05 15:56:39,650 [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8077"]
2023-09-05 15:56:39,652 [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-09-05 15:56:39,653 [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/10.1.11]
2023-09-05 15:56:39,732 [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-09-05 15:56:39,734 [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1375 ms
2023-09-05 15:56:39,776 [main] com.zaxxer.hikari.HikariConfig: DEVELOPER_CATALOG - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2023-09-05 15:56:39,777 [main] com.zaxxer.hikari.HikariDataSource: DEVELOPER_CATALOG - Starting...
2023-09-05 15:56:39,965 [main] com.zaxxer.hikari.pool.HikariPool: DEVELOPER_CATALOG - Added connection org.postgresql.jdbc.PgConnection@c48b543
2023-09-05 15:56:39,967 [main] com.zaxxer.hikari.HikariDataSource: DEVELOPER_CATALOG - Start completed.
2023-09-05 15:56:39,967 [main] com.zaxxer.hikari.HikariConfig: DEVELOPER_CATALOG - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2023-09-05 15:56:39,968 [main] com.zaxxer.hikari.HikariDataSource: DEVELOPER_CATALOG - Starting...
2023-09-05 15:56:40,014 [main] com.zaxxer.hikari.pool.HikariPool: DEVELOPER_CATALOG - Added connection org.postgresql.jdbc.PgConnection@6842c101
2023-09-05 15:56:40,014 [main] com.zaxxer.hikari.HikariDataSource: DEVELOPER_CATALOG - Start completed.
2023-09-05 15:56:40,070 [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-05 15:56:40,122 [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.2.6.Final
2023-09-05 15:56:40,125 [main] org.hibernate.cfg.Environment: HHH000406: Using bytecode reflection optimizer
2023-09-05 15:56:40,344 [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator: HHH000021: Bytecode provider name : bytebuddy
2023-09-05 15:56:40,459 [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2023-09-05 15:56:40,820 [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator: HHH000021: Bytecode provider name : bytebuddy
2023-09-05 15:56:41,507 [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-05 15:56:41,641 [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-05 15:56:42,015 [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
2023-09-05 15:56:42,954 [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-05 15:56:43,301 [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60052518, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39336f5, org.springframework.security.web.context.SecurityContextHolderFilter@209baf91, org.springframework.security.web.header.HeaderWriterFilter@70e560ef, org.springframework.security.web.authentication.logout.LogoutFilter@20a533b, com.turborvip.ecommerce.application.security.JwtAuthenticationFilter@3d84f113, org.springframework.security.web.session.ConcurrentSessionFilter@10806dbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5982255e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e9c5db9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36b86248, org.springframework.security.web.session.SessionManagementFilter@38a3c078, org.springframework.security.web.access.ExceptionTranslationFilter@4cb45048, org.springframework.security.web.access.intercept.AuthorizationFilter@49e54217]
2023-09-05 15:56:43,586 [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8077"]
2023-09-05 15:56:43,612 [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8077 (http) with context path ''
2023-09-05 15:56:43,630 [main] org.springframework.boot.StartupInfoLogger: Started EcommerceApplication in 5.804 seconds (process running for 6.328)
2023-09-05 15:56:47,315 [http-nio-8077-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-05 15:56:47,315 [http-nio-8077-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-09-05 15:56:47,316 [http-nio-8077-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-09-05 15:56:47,597 [http-nio-8077-exec-1] com.turborvip.ecommerce.application.services.impl.JwtService: JWT claims is not empty :Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance.
2023-09-05 15:56:51,714 [http-nio-8077-exec-1] com.turborvip.ecommerce.application.configuration.LoggingHttpFilterConfig: HTTP Logs: 
METHOD = POST; REQUEST_URI = /api/v1/auth/refresh-token; REQUEST_BODY = ;
RESPONSE_CODE = 200; RESPONSE_BODY = {"message":"Refresh token successfully!","metadata":{"token":"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJST0xFX1VTRVIiXX0.NyHpJFrKs7K1f1xQ46OlyYfJUTsGDTfr4fuRQws9MWm17HJjyiozz__jaeCICIorJxTyDEU0fVhHLs42yctDITR9RHXHXpJgnXf7hj5hvO5rBYB2GrTai5eoaZMbNBkbLfmBz9jSqBCgI_eh_UaTD7GsgQi5fuJ7YekFHucrsYNldPks76XdHqbODRa50Yfs4DbxbEZ-WA77jG9QUMt-srLe5vuaTUNrN5tUVBS_r2LRLcrX1znF1tv4OQCwER3esRP1VWyvTYQME8l6wbTgu0lGo-74nO4JGnFY_qq1zgKXnACoyAf_x9j8soHOr_na2eyqKvyVNlegE1fuSq8A1z-1BlX_DqzshFHAyvX9DkRSKrJcAdlDk_G4uKPuC1h4hTEMjso3IlRtg8xNimpazCTNpViLb7vjcwC4wVHpCuqaBV27budPjhXCv-aJZ6ZEM_m1Xrs7VTes7Kd5MjYSR4Zr_pF6_0pmblixurXqBT_90qieIY3mAR3LzUhQZtuTBrqJoNeXDcbRFlCPTrnANQuHJGjQSurQsOSw--YCCas4KXVAGLQZI1kSOhMXDmD6yIH7eCVaF21hSAPd7rXZoXEQeNKOElmJL7dAVB_VTZ9wwCbMCuzQ-9UhDGEylX6daeQ5l0KVKwxpg2zCiBHUb_8ESq-sIaxkGSfzhR2qEE4","refreshToken":"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJST0xFX1VTRVIiXX0.GcHwpCttUqmTmawEbI-qi3jnBHV1imPwO1XHg0GzgX1Pejky2-q_G9Ev0-8ALR0yIyfxuvREv1s7cpXr4AC0w8ssn8qn0Rqov6XQsXuejb8KxvNnrp57DZvlu-eTfgp2OpV829ysgo_mT0-R0MDVE2CGNvIuxHwgYXH9V5WWcYbzkxdBDtMfhCvqajjm7ofCZQ0b20qTyTUw0Sd83ciYTOJnCF85GzwZIiDziadAE3HO8Zrf2Y5AAGiPPYD6M0IvOZ10_l0urFaWlIbfUsEkkJhobEngurNVj6l70Vrx-Tk5ZAV-n0whC1daVLE5LGFo_yspyToDXk268Qqr_Yc71qDbBidosVcYrdDqwtxKMAmM2z0Z6EkauXN84yV-o5xpNdeivYLhXEK8APNBvvy41d8n8tTzTFwqbqSZVfFp42z19UDMpeMu2ZCpG94h1eCq7EWbEruqtxP22HjDngAY18mgUXiq2xbAqRPhxCghqt0T9nwHwbqf0j3879W_rmnebFJo91N0YdH8ykR5uIGs-I0WMKr8neiahcMIn1Qr21YfIJCWZyD5bGkSykxtVNR9BBkCbkNYaFtw9w0VoCr3REEDnMbvdU1MEJoXbp0r8vz1vrWr0gJDTBGPltY2QJpKrx5C66cX5SUSyV-nJNkM8OwftwGo6rJ-yWdGkB3vLTo"}}; TIME_TAKEN = 4090
2023-09-05 15:57:18,746 [http-nio-8077-exec-3] com.turborvip.ecommerce.application.services.impl.JwtService: JWT claims is not empty :Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance.
2023-09-05 15:57:23,146 [http-nio-8077-exec-3] com.turborvip.ecommerce.application.configuration.LoggingHttpFilterConfig: HTTP Logs: 
METHOD = POST; REQUEST_URI = /api/v1/auth/refresh-token; REQUEST_BODY = ;
RESPONSE_CODE = 200; RESPONSE_BODY = {"message":"Refresh token successfully!","metadata":{"token":"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJST0xFX1VTRVIiXX0.a50233dyW7Oj7Xh7X4xdUEWMCcYgD3IHZBkOoVCJI5ZM5RR6Ch5hxZduTkR3VY8XBpTSjf_33KGHYn6DV0Em3OTz7Sy-CObyC56GB_SrUjlTYneJvd9qVWxuEPQywqj0YLfyTDsDG90-pQuduloLnMdRqtutCqNBV-WtYjpUwK5NBHCZEFlgZ0n_uoAgAcikSH-NQQJKm9DY76Q9-nyMGVPoo9WFmlF3EZTAxzHrFrwGKN3-PeLeXlJyRxX2VPGsqFN3Dkgc7yXdQKY8ZSy-HAnglbcdkkslV9vCjpm1IW-o6bdSLLPoz6M-GckUhP0z3A3lp4F6lOua_AnGGZpss9yr0_eSSasl7LOrI_8X_KqTlsnNhfA4ak8MXWBM5ox753Eg0KyTaB5s7W_IC3uwiA3yekHlaLWmMKWz3dXQleUbZGmLybtMokpedQAFAweBIjhiQSS-u_6cWm4OhXxAt1VP6vgSEgwVZ515A5IEK-VFTcrXcGhX_lrhPJqdfq9g9qnFjLovTvmz0NKit_k62olbtkyaVWKYNFbDSczIvqd34dj8gQ5YeW4Z1wJFdKXZ5qXnByKmSxMr_KYSjn9_Lziy7me2NkMYfyh8AyzhRrsOjkJC1rvxYQ2-W6YLEA3xNjeFCQHI7BJ85QL2YH2zU7wK8BwGvgKWKUaJg0vK0O4","refreshToken":"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJST0xFX1VTRVIiXX0.LAZsLkePsxm6Vw1Vfmy7xM1wZPV4GxkSfBLBUJauL2qK9DOSvPQUaaUdbeGtMNjbckHN7wZUk5tHYHHVijdf6ddnz7_iL7V0TbuVHKnDZ3mwS5z6o-lDKJ6Rvj8uPxvSI92zk5sdIfyLSXZHwpRBHRcSr9VgV58k-pc1QhMTs7JM6DYWMDwEhd4yeWIZXypw3OHwEa-uYxuRC4oXqzNjdNv8MiSQX_xRXebDa77CpLloE5St_Er_0a7wv4sDn5OzkX_lMQmmOHQqp9BpBF3j6keFr3QNHtP55zdQjFCenwzJvIUDhc38m90u1MMry5P6YrEs9X-e7G7xT_V0hjA_VGFK8ocXQXLZRoM9Ks29UOHb1Ejl45Rdg1vSg-1SEr2JLI6WSzXbxAkJqiOmVBcCYjVsCFSTVCTE9IgsOtsqCJdLV8_YOZcpTNq_1xNL0T22n893BRlL-efOXsC38DAV3F9-A_MiJEFlQ9sfiyESQBaXlwQSWNGyhdeuGjgfrD-nY5F6kq9v0choXmj_1ejiGaWCafiEWm9i2fcKW5izpPcAGBoPGEk-F_tXoS9miL8tv9cRqTrGXg0z0h0Sp0kNZWy_0DCIlmitc1TfIyP_Rke-TJNXyux4aMg6eSPw7bSFX2mh6TbZe3EyvfnXPWJlMl2SaYgcD4UHs9pzChI0vHo"}}; TIME_TAKEN = 4397
2023-09-05 15:57:49,961 [http-nio-8077-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: Invalid characters (CR/LF) in header error
	at org.springframework.util.Assert.isTrue(Assert.java:140)
	at org.springframework.security.web.firewall.FirewalledResponse.validateCrlf(FirewalledResponse.java:76)
	at org.springframework.security.web.firewall.FirewalledResponse.setHeader(FirewalledResponse.java:53)
	at jakarta.servlet.http.HttpServletResponseWrapper.setHeader(HttpServletResponseWrapper.java:132)
	at jakarta.servlet.http.HttpServletResponseWrapper.setHeader(HttpServletResponseWrapper.java:132)
	at com.turborvip.ecommerce.application.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
